[{"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\index.js":"1","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\PlayerList\\index.js":"2","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Room\\index.js":"3","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\home\\index.js":"4","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\play\\index.js":"5","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Board\\index.js":"6","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\reducer\\index.js":"7","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\App.js":"8","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\SmellBoard\\index.js":"9","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\play\\rule.js":"10","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\login\\index.js":"11","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Clock\\Clock.js":"12","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Count\\index.js":"13"},{"size":655,"mtime":1606876034885,"results":"14","hashOfConfig":"15"},{"size":2461,"mtime":1606913626193,"results":"16","hashOfConfig":"15"},{"size":1858,"mtime":1606978308816,"results":"17","hashOfConfig":"15"},{"size":2248,"mtime":1606979218530,"results":"18","hashOfConfig":"15"},{"size":7760,"mtime":1606987711754,"results":"19","hashOfConfig":"15"},{"size":1830,"mtime":1606913749027,"results":"20","hashOfConfig":"15"},{"size":2112,"mtime":1606978599536,"results":"21","hashOfConfig":"15"},{"size":992,"mtime":1606894614720,"results":"22","hashOfConfig":"15"},{"size":1808,"mtime":1606898836428,"results":"23","hashOfConfig":"15"},{"size":10353,"mtime":1606876034904,"results":"24","hashOfConfig":"15"},{"size":1677,"mtime":1606918293144,"results":"25","hashOfConfig":"15"},{"size":2488,"mtime":1606985311171,"results":"26","hashOfConfig":"15"},{"size":1598,"mtime":1606985639967,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1cl2c5p",{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\index.js",[],["56","57"],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\PlayerList\\index.js",["58","59"],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Room\\index.js",[],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\home\\index.js",["60"],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\play\\index.js",["61","62","63","64"],"import React from 'react'\r\nimport {Button, Layout} from 'antd';\r\nimport Board from '../Board';\r\nimport Rule from './rule'\r\nimport {connect} from 'react-redux';\r\nimport {send} from '@giantmachines/redux-websocket';\r\nimport store from '../../store'\r\nimport {Row, Col} from 'antd';\r\nimport {Content} from 'antd/lib/layout/layout';\r\nimport PlayerList from '../PlayerList';\r\nimport {Divider} from 'antd';\r\nimport Clock from \"../Clock/Clock\";\r\nimport Count from '../Count/index'\r\n\r\nclass Play extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(\"Board 初始化\", props);\r\n        let squares = Array(4).fill(0).map(_ => {\r\n            return new Array(4).fill(0)\r\n        });\r\n        this.state = {\r\n            current: squares,\r\n            merges: Array(4).fill(0).map(_ => {\r\n                return new Array(4).fill(0)\r\n            }),\r\n            score: 0,\r\n            status: 0,\r\n            flag: 0,\r\n            isMove: 0,\r\n            roomID: 0,\r\n            rank: true,\r\n            countstart: false,\r\n            seconds:0,\r\n            minutes: 0,\r\n            isOver: false\r\n        }\r\n    }\r\n    sendMessage(temp) {\r\n        store.dispatch(send({\r\n            type: \"UPLOAD\",\r\n            content: JSON.stringify({\r\n                \"roomID\": this.props.roomID,\r\n                \"score\": temp.score,\r\n                \"current\": temp.squares\r\n            })\r\n        }));\r\n        this.setState(\r\n            Object.assign({},this.state,\r\n                {\r\n                    current: temp.squares,\r\n                    merges: Array(4).fill(0).map(_ => {\r\n                        return new Array(4).fill(0)\r\n                    }),\r\n                    score: temp.score,\r\n                    status: 2,\r\n                    flag: 1,\r\n                    isMove: 0\r\n                }\r\n            )\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.keyDoneEvent)\r\n    }\r\n    keyDoneEvent=(e)=>{\r\n        console.log(e.key);\r\n        if (this.state.status < 1) {\r\n            return;\r\n        }\r\n        switch (e.key) {\r\n            case 'ArrowLeft':   //左\r\n                var temp = Rule.moveLeft(this.state.current, this.state.merges, this.state.score);\r\n                if (temp.isMove === 1) {\r\n                    this.sendMessage(temp);\r\n                }\r\n                break;\r\n            case 'ArrowUp': //上\r\n                var temp = Rule.moveUp(this.state.current, this.state.merges, this.state.score);\r\n                if (temp.isMove === 1) {\r\n                    this.sendMessage(temp);\r\n                }\r\n                break;\r\n            case 'ArrowRight': //右\r\n                var temp = Rule.moveRight(this.state.current, this.state.merges, this.state.score);\r\n                if (temp.isMove === 1) {\r\n                    this.sendMessage(temp);\r\n                }\r\n\r\n                break;\r\n            case 'ArrowDown':    //下\r\n                var temp = Rule.moveDown(this.state.current, this.state.merges, this.state.score);\r\n                if (temp.isMove === 1) {\r\n                    this.sendMessage(temp);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    \r\n\r\n    //点击\r\n    sendStart(val) {\r\n        store.dispatch(send({type: \"Start\", content: JSON.stringify({\"roomID\": val})}));\r\n        this.setState(Object.assign({},this.state,{status:1}))\r\n    }\r\n\r\n    getInfo(){\r\n        store.dispatch(send({type: \"GetInfo\"}));\r\n    }\r\n\r\n    exitGame(){\r\n        store.dispatch(send({type:\"LEAVE\"}));\r\n    }\r\n    gameOver(){\r\n        this.setState(Object.assign({},this.state,{status:-1,isOver:true}));\r\n        document.removeEventListener('keydown',this.keyDoneEvent);\r\n    }\r\n\r\n    startGame() {\r\n        let squares = Array(4).fill(0).map(_ => {\r\n            return new Array(4).fill(0)\r\n        });\r\n        squares = Rule.generateOneNumber(squares); //初始化随机生成两个数\r\n        squares = Rule.generateOneNumber(squares);\r\n        this.setState(\r\n            Object.assign({},this.state,{\r\n                current: squares,\r\n                merges: Array(4).fill(0).map(_ => {\r\n                    return new Array(4).fill(0)\r\n                }),\r\n                score: 0,\r\n                status: 2,\r\n                flag: 1,\r\n                isMove: 0,\r\n                countstart: true\r\n            })\r\n            );\r\n    }\r\n    getState = ()=>{\r\n        this.setState(Object.assign({},this.state,{status:-1,isOver:true}))\r\n    }\r\n\r\n\r\n    render() {\r\n        //离开房间\r\n        if(this.props.status===\"ONLINE\"){\r\n            this.props.history.push('/home');\r\n        }\r\n        const roomtitle = \"欢迎来到\" + this.props.roomID + \"号房间\";\r\n        let otherplays = [];\r\n        let roomInfo=this.props.roomInfo;\r\n        let rooms=this.props.rooms;\r\n        if(!roomInfo){\r\n            rooms.forEach(element => {\r\n                if(element.roomId===this.props.roomID){\r\n                roomInfo=element;\r\n                }\r\n            });\r\n        }\r\n\r\n        if (roomInfo && roomInfo.playerList) {\r\n            otherplays = roomInfo.playerList; //排行榜\r\n        }\r\n        otherplays.sort(sortScore);\r\n        if (this.props.Game_Status === 2 && this.state.flag === 0) {\r\n            this.startGame();\r\n        }\r\n        let level=roomInfo.actualPlayerNumber-roomInfo.preNumber;\r\n        let start = null;\r\n        switch (this.state.status) {\r\n            case 0:\r\n                start = (<Button style={{margin:'auto'}} onClick={() => this.sendStart(this.props.roomID)}>准备</Button>)\r\n                break;\r\n            case 1:\r\n        start = (<div style={{margin:'auto'}}>已准备,尚有{level}位玩家未准备</div>)\r\n                break;\r\n            default:break;\r\n        }\r\n        const _this = this;\r\n\r\n        return (\r\n            <Layout className=\"layout\" style={{height: '100%'}}>\r\n                <Row justify=\"center\" align=\"middle\">\r\n                    <Col span={12} style={{marginTop: '15px'}}>\r\n                        <h2 style={{textAlign: 'right', margin: '0'}}>{roomtitle}</h2>\r\n                    </Col>\r\n                    <Col span={10} style={{textAlign: 'right'}}>\r\n                        <Button onClick={()=>{this.exitGame(this.props.history)}}>退出房间</Button>\r\n                    </Col>\r\n                </Row>\r\n                <Divider style={{margin: '15px 0 0 0'}}/>\r\n                <Content>\r\n\r\n                    <Row align=\"top\" style={{'height': '100%'}}>\r\n                        <Col span={6} style={{textAlign: 'center'}}>\r\n                            <PlayerList playerList={otherplays}/>\r\n                        </Col>\r\n                        <Divider type=\"vertical\" style={{'height': '100%'}}/>\r\n                        <Col span={17}>\r\n                            <Row align=\"top\">\r\n                                <Col style={{textAlign:'right'}} span={24}>\r\n                                    <Count endTime={5000} gameOver={_this.getState} />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row align=\"top\">\r\n                            <Col span={24}>\r\n                            <Board current={this.state.current} score={this.state.score}/>\r\n                            {start}\r\n                            </Col>\r\n                            </Row>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Content>\r\n            </Layout>\r\n\r\n\r\n        )\r\n    }\r\n\r\n}\r\nfunction sortScore(a,b){  \r\n    return b.score-a.score  \r\n }\r\nconst mapStateToProps = (state) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default connect(mapStateToProps)(Play)","C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Board\\index.js",[],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\reducer\\index.js",["65","66","67","68","69"],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\App.js",[],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\SmellBoard\\index.js",[],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\play\\rule.js",["70"],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\login\\index.js",["71"],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Clock\\Clock.js",["72","73"],"C:\\junfan\\2048\\techtrainingcamp-frontend-9\\react_2048\\src\\pages\\Count\\index.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":37,"column":33,"nodeType":"80","endLine":37,"endColumn":60},{"ruleId":"81","severity":1,"message":"82","line":71,"column":7,"nodeType":"83","messageId":"84","endLine":71,"endColumn":14},{"ruleId":"81","severity":1,"message":"85","line":19,"column":9,"nodeType":"83","messageId":"84","endLine":19,"endColumn":16},{"ruleId":"81","severity":1,"message":"86","line":12,"column":8,"nodeType":"83","messageId":"84","endLine":12,"endColumn":13},{"ruleId":"87","severity":1,"message":"88","line":80,"column":21,"nodeType":"83","messageId":"89","endLine":80,"endColumn":25},{"ruleId":"87","severity":1,"message":"88","line":86,"column":21,"nodeType":"83","messageId":"89","endLine":86,"endColumn":25},{"ruleId":"87","severity":1,"message":"88","line":93,"column":21,"nodeType":"83","messageId":"89","endLine":93,"endColumn":25},{"ruleId":"90","severity":1,"message":"91","line":36,"column":26,"nodeType":"92","messageId":"93","endLine":36,"endColumn":30},{"ruleId":"94","severity":1,"message":"95","line":37,"column":13,"nodeType":"96","messageId":"97","endLine":54,"endColumn":14},{"ruleId":"90","severity":1,"message":"91","line":39,"column":61,"nodeType":"92","messageId":"93","endLine":39,"endColumn":65},{"ruleId":"90","severity":1,"message":"91","line":41,"column":32,"nodeType":"92","messageId":"93","endLine":41,"endColumn":36},{"ruleId":"90","severity":1,"message":"91","line":51,"column":32,"nodeType":"92","messageId":"93","endLine":51,"endColumn":36},{"ruleId":"98","severity":1,"message":"99","line":341,"column":1,"nodeType":"100","endLine":341,"endColumn":83},{"ruleId":"81","severity":1,"message":"101","line":13,"column":8,"nodeType":"83","messageId":"84","endLine":13,"endColumn":12},{"ruleId":"81","severity":1,"message":"102","line":39,"column":15,"nodeType":"83","messageId":"84","endLine":39,"endColumn":19},{"ruleId":"81","severity":1,"message":"102","line":46,"column":15,"nodeType":"83","messageId":"84","endLine":46,"endColumn":19},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"react/style-prop-object","Style prop value must be an object","JSXAttribute","no-unused-vars","'compare' is assigned a value but never used.","Identifier","unusedVar","'SubMenu' is assigned a value but never used.","'Clock' is defined but never used.","no-redeclare","'temp' is already defined.","redeclared","no-eval","eval can be harmful.","CallExpression","unexpected","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'Home' is defined but never used.","'open' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]